(this.webpackJsonpdaedalus=this.webpackJsonpdaedalus||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1),l=n.n(i),s=n(9),a=n.n(s),c=(n(15),n(2)),r=(n(16),n(17),{white:"#ffffff",black:"#000000",background:"#2c3035"}),o=n(0),d=function(e){var t=Object(i.useRef)();return Object(i.useEffect)((function(){var n=t.current,i=n.getContext("2d");i.canvas.width=e.canvasSize,i.canvas.height=e.canvasSize;!function(e,t){e?e.forEach((function(e){e.isWall?t.fillStyle=r.black:t.fillStyle=r.white,t.fillRect(e.x,e.y,e.width,e.height),t.stroke()})):(t.fillStyle="black",t.fillRect(0,0,n.width,n.height))}(e.cells,i)}),[e.cells,e.canvasSize]),Object(o.jsx)("div",{id:"canvas-wrapper",children:Object(o.jsx)("canvas",{id:"canvas",ref:t,width:e.canvasSize,height:e.canvasSize})})},h=(n(19),n(3)),u=n(4),x=function(){function e(t,n,i,l,s,a){Object(h.a)(this,e),this.x=t,this.y=n,this.index=i,this.width=l,this.height=s,this.isWall=a}return Object(u.a)(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.index,this.width,this.height,this.isWall)}}],[{key:"cloneCellArray",value:function(e){var t=[];return e.forEach((function(e){var n=e.clone();t.push(n)})),t}}]),e}(),f=(n(20),n.p+"static/media/first.c3e0cf7d.svg"),j=n.p+"static/media/previous.4ccf2fd0.svg",g=n.p+"static/media/next.fe3f3ecb.svg",b=n.p+"static/media/last.f00f4291.svg",p=n.p+"static/media/play.54e558df.svg",v=n.p+"static/media/pause.d4c80d88.svg",O=function(e){var t=Object(i.useState)(!0),n=Object(c.a)(t,2),l=n[0],s=n[1],a=Object(i.useState)(!1),r=Object(c.a)(a,2),d=r[0],h=r[1],u=Object(i.useState)(!1),O=Object(c.a)(u,2),y=O[0],m=O[1],w=Object(i.useState)(null),S=Object(c.a)(w,2),k=S[0],C=S[1],I=Object(i.useState)(p),A=Object(c.a)(I,2),W=A[0],z=A[1],P=Object(i.useRef)(e.speed);P.current=e.speed,Object(i.useEffect)((function(){0===e.historyIndex?(s(!0),h(!1)):e.historyIndex===e.history.length-1?(s(!1),h(!0)):(s(!1),h(!1)),e.historyIndex===e.history.length-1?m(!0):m(!1),e.isPlaying&&(s(!0),h(!0))}),[e.isPlaying,e.historyIndex,e.history.length]),Object(i.useEffect)((function(){e.isPlaying?z(v):z(p)}),[e.isPlaying]);var R=function(t){var n=Object.keys(t),i=Object.values(t),l=x.cloneCellArray(e.cells);n.forEach((function(e,t){l[e].isWall=i[t]})),e.setCells(l)},M=function t(n,i){var l=1/P.current*1e3,s=e.history[n].next,a=Object.keys(s),c=Object.values(s),r=x.cloneCellArray(i);a.forEach((function(e,t){r[e].isWall=c[t]})),n+=1,e.setHistoryIndex(n),e.setCells(r),n<e.history.length-1?C(setTimeout((function(){t(n,r)}),l)):e.setIsPlaying(!1)};return Object(o.jsxs)("div",{id:"playback-wrapper",children:[Object(o.jsx)("input",{type:"image",alt:"first",disabled:l,onClick:function(){var t=e.history[0].prev;e.setHistoryIndex(0),e.setCells(x.cloneCellArray(t))},src:f}),Object(o.jsx)("input",{type:"image",alt:"previous",disabled:l,onClick:function(){var t=e.historyIndex;e.setHistoryIndex(t-1);var n=e.history[e.historyIndex].prev;R(n)},src:j}),Object(o.jsx)("input",{type:"image",alt:"play-pause",disabled:y,onClick:function(){e.isPlaying?(e.setIsPlaying(!1),clearTimeout(k)):(e.setIsPlaying(!0),M(e.historyIndex,e.cells))},src:W}),Object(o.jsx)("input",{type:"image",alt:"next",disabled:d,onClick:function(){var t=e.historyIndex;e.setHistoryIndex(t+1);var n=e.history[e.historyIndex].next;R(n)},src:g}),Object(o.jsx)("input",{type:"image",alt:"last",disabled:d,onClick:function(){var t=e.history[e.history.length-1].next;e.setHistoryIndex(e.history.length-1),e.setCells(x.cloneCellArray(t))},src:b})]})},y=(n(21),n(22),function(e){return Object(o.jsxs)("div",{id:"range-slider-wrapper",children:[Object(o.jsx)("div",{children:e.min}),Object(o.jsx)("input",{type:"range",disabled:e.disabled,min:e.min,max:e.max,step:e.step,defaultValue:e.defaultValue,onChange:e.onChange,onMouseUp:e.onMouseUp}),Object(o.jsx)("div",{children:e.max})]})}),m=function(e){var t=Object(i.useState)("size: 10"),n=Object(c.a)(t,2),l=n[0],s=n[1];return Object(o.jsxs)("div",{id:"size-slider-wrapper",children:[Object(o.jsx)("p",{children:l}),Object(o.jsx)(y,{disabled:e.isPlaying,type:"range",min:"2",max:"50",step:"1",defaultValue:"10",onChange:function(e){s("size: "+e.target.value)},onMouseUp:function(t){e.setSize(t.target.value)}})]})},w=(n(23),function(e){var t=Object(i.useState)("speed: 0"),n=Object(c.a)(t,2),l=n[0],s=n[1];return Object(o.jsxs)("div",{id:"speed-slider-wrapper",children:[Object(o.jsx)("p",{children:l}),Object(o.jsx)(y,{disabled:e.isPlaying,type:"range",min:"0",max:"1",step:"0.01",defaultValue:"0",onChange:function(t){s("speed: "+t.target.value),e.setSpeed(Math.pow(1e3,t.target.value))}})]})}),S=function(e){return Object(o.jsxs)("div",{id:"controls-wrapper",children:[Object(o.jsx)("h2",{children:"controls"}),Object(o.jsx)(m,{setSize:e.setSize,isPlaying:e.isPlaying}),Object(o.jsx)(w,{setSpeed:e.setSpeed}),Object(o.jsx)(O,{history:e.history,speed:e.speed,historyIndex:e.historyIndex,setHistoryIndex:e.setHistoryIndex,isPlaying:e.isPlaying,setIsPlaying:e.setIsPlaying,cells:e.cells,setCells:e.setCells}),Object(o.jsx)("div",{}),Object(o.jsxs)("blockquote",{children:[Object(o.jsxs)("p",{children:[Object(o.jsx)("span",{children:"Such was the work, so intricate the place,"}),Object(o.jsx)("span",{children:"That scarce the workman all its turns cou\u2019d trace;"}),Object(o.jsx)("span",{children:"And Daedalus was puzzled how to find"}),Object(o.jsx)("span",{children:"The secret ways of what himself design\u2019d."})]}),Object(o.jsxs)("p",{children:["\u2014 Ovid, ",Object(o.jsx)("cite",{children:"Metamorphoses"})]})]})]})},k=(n(24),{RandomizedDepthFirstSearch:0,RandomizedKruskalsAlgorithm:1,RandomizedPrimsAlgorithm:2,WilsonsAlgorithm:3}),C=n.p+"static/media/github.1a78f568.svg",I=function(e){return Object(o.jsxs)("div",{id:"selector-wrapper",children:[Object(o.jsx)("h2",{children:"maze generation algorithms"}),Object(o.jsx)("button",{onClick:function(){e.setGenerator({current:k.RandomizedDepthFirstSearch})},disabled:e.isPlaying,children:"randomized depth first search"}),Object(o.jsx)("button",{onClick:function(){e.setGenerator({current:k.RandomizedKruskalsAlgorithm})},disabled:e.isPlaying,children:"randomized kruskal\u2019s algorithm"}),Object(o.jsx)("button",{onClick:function(){e.setGenerator({current:k.RandomizedPrimsAlgorithm})},disabled:e.isPlaying,children:"randomized prim\u2019s algorithm"}),Object(o.jsx)("button",{onClick:function(){e.setGenerator({current:k.WilsonsAlgorithm})},disabled:e.isPlaying,children:"wilson\u2019s algorithm"}),Object(o.jsx)("a",{href:"https://github.com/maticstric/daedalus",target:"_blank",rel:"noreferrer",children:Object(o.jsx)("img",{src:C,alt:"github"})})]})},A=n(5),W=function(){function e(t,n,i,l){var s=this;Object(h.a)(this,e),this.initCells=function(){for(var e=[],t=0;t<s.rows;t++)for(var n=0;n<s.cols;n++){var i=s.width/s.cols,l=s.height/s.rows,a=i*n,c=l*t,r=t*s.cols+n;e.push(new x(a,c,r,i,l,!0))}return e},this.secondNeumannNeighborhood=function(e){var t=[],n=s.getRowAndCol(e),i=n.row,l=n.col,a=s.cells[s.index(i-2,l)],c=s.cells[s.index(i,l+2)],r=s.cells[s.index(i+2,l)],o=s.cells[s.index(i,l-2)];return a&&t.push(a),c&&t.push(c),r&&t.push(r),o&&t.push(o),t},this.wallSecondNeumannNeighbors=function(e){for(var t=s.secondNeumannNeighborhood(e),n=[],i=0;i<t.length;i++){var l=t[i];l.isWall&&n.push(l)}return n},this.neumannNeighborhood=function(e){var t,n,i,l,a=[],c=s.getRowAndCol(e),r=c.row,o=c.col;return r-1>0&&(t=s.cells[s.index(r-1,o)]),o+1<s.cols-1&&(n=s.cells[s.index(r,o+1)]),r+1<s.rows-1&&(i=s.cells[s.index(r+1,o)]),o-1>0&&(l=s.cells[s.index(r,o-1)]),t&&a.push(t),n&&a.push(n),i&&a.push(i),l&&a.push(l),a},this.wallNeumannNeighborhood=function(e){for(var t=s.neumannNeighborhood(e),n=[],i=0;i<t.length;i++){var l=t[i];l.isWall&&n.push(l)}return n},this.cellBetween=function(e,t){return e.index-t.index===2?s.cells[t.index+1]:t.index-e.index===2?s.cells[e.index+1]:e.index-t.index===2*s.cols?s.cells[t.index+s.cols]:t.index-e.index===2*s.cols?s.cells[e.index+s.cols]:void 0},this.width=t,this.height=n,this.rows=i,this.cols=l,this.cells=this.initCells()}return Object(u.a)(e,[{key:"getCellsDividedByWall",value:function(e){var t,n,i=this.getRowAndCol(e),l=i.row,s=i.col;return l%2===0?(t=this.cells[e.index-this.cols],n=this.cells[e.index+this.cols]):s%2===0&&(t=this.cells[e.index-1],n=this.cells[e.index+1]),{cellA:t,cellB:n}}},{key:"index",value:function(e,t){return e<0||t<0||e>this.rows-1||t>this.cols-1?-1:t+e*this.cols}},{key:"getRowAndCol",value:function(e){return{row:Math.floor(e.index/this.cols),col:e.index%this.cols}}}]),e}(),z=function(){function e(){Object(h.a)(this,e)}return Object(u.a)(e,null,[{key:"getInitialState",value:function(){return{stack:[]}}}]),e}();z.generate=function(e,t,n,i,l){var s=new W(t,t,2*e+1,2*e+1),a=z.getInitialState().stack,c=[{prev:x.cloneCellArray(s.cells),next:null}],r=s.cells[s.cols+1];for(s.cells[r.index].isWall=!1,a.push(r);a.length>0;){var o=a.pop(),d=s.wallSecondNeumannNeighbors(o);if(0!==d.length){var h,u;a.push(o);var f=d[Math.floor(Math.random()*d.length)],j=s.cellBetween(o,f);s.cells[j.index].isWall=!1,s.cells[f.index].isWall=!1,a.push(f),c[c.length-1].next=(h={},Object(A.a)(h,j.index,!1),Object(A.a)(h,f.index,!1),h),c.push({prev:(u={},Object(A.a)(u,j.index,!0),Object(A.a)(u,f.index,!0),u),next:null})}}c[c.length-1].next=x.cloneCellArray(s.cells),c[0].next[r.index]=!1,c[1].prev[r.index]=!0,n(c),i(c.length-1),l(x.cloneCellArray(s.cells))};var P=z,R=function(){function e(t){Object(h.a)(this,e),this.parents={},this.ranks={},this.numSets=t.length;for(var n=0;n<t.length;n++){var i=t[n];this.parents[i]=i,this.ranks[i]=0}}return Object(u.a)(e,[{key:"union",value:function(e,t){this.link(this.findSet(e),this.findSet(t)),this.numSets-=1}},{key:"link",value:function(e,t){e!==t&&(this.ranks[e]>this.ranks[t]?this.parents[t]=e:(this.parents[e]=t,this.ranks[e]===this.ranks[t]&&(this.ranks[t]+=1)))}},{key:"findSet",value:function(e){return this.parents[e]!==e&&(this.parents[e]=this.findSet(this.parents[e])),this.parents[e]}}]),e}(),M=function(){function e(){Object(h.a)(this,e)}return Object(u.a)(e,null,[{key:"getInitialState",value:function(e){return{wallList:this.getInitialWallList(e),cellSets:this.getInitialCellSets(e)}}},{key:"getInitialWallList",value:function(e){var t=[];return e.cells.forEach((function(n){var i=e.getRowAndCol(n),l=i.row,s=i.col;0!==l&&l!==e.rows-1&&0!==s&&s!==e.cols-1&&(l%2===0&&s%2===0||(l%2===0||s%2===0)&&t.push(n))})),t}},{key:"getInitialCellSets",value:function(e){var t=[];return e.cells.forEach((function(n){var i=e.getRowAndCol(n),l=i.row,s=i.col;l%2===1&&s%2===1&&t.push(n.index)})),new R(t)}}]),e}();M.generate=function(e,t,n,i,l){for(var s=new W(t,t,2*e+1,2*e+1),a=M.getInitialState(s),c=a.wallList,r=a.cellSets,o=[{prev:x.cloneCellArray(s.cells),next:null}];r.numSets>1;){var d=Math.floor(Math.random()*c.length),h=c[d],u=s.getCellsDividedByWall(h),f=u.cellA,j=u.cellB;if(r.findSet(f.index)!==r.findSet(j.index)){var g={},b={};s.cells[f.index].isWall&&(s.cells[f.index].isWall=!1,g[f.index]=!1,b[f.index]=!0),s.cells[j.index].isWall&&(s.cells[j.index].isWall=!1,g[j.index]=!1,b[j.index]=!0),s.cells[h.index].isWall&&(s.cells[h.index].isWall=!1,g[h.index]=!1,b[h.index]=!0),c.splice(d,1),r.union(f.index,j.index),o[o.length-1].next=g,o.push({prev:b,next:null})}}o[o.length-1].next=x.cloneCellArray(s.cells),n(o),i(o.length-1),l(x.cloneCellArray(s.cells))};var E=M,N=function(){function e(){Object(h.a)(this,e)}return Object(u.a)(e,null,[{key:"getInitialState",value:function(){return{wallList:[]}}}]),e}();N.generate=function(e,t,n,i,l){var s=new W(t,t,2*e+1,2*e+1),a=N.getInitialState().wallList,c=[{prev:x.cloneCellArray(s.cells),next:null}],r=s.cells[s.cols+1];s.cells[r.index].isWall=!1;var o=s.wallNeumannNeighborhood(r);for(a=a.concat(o);a.length>0;){var d=Math.floor(Math.random()*a.length),h=a[d],u=s.getCellsDividedByWall(h),f=u.cellA,j=u.cellB;if(!f.isWall&&j.isWall||f.isWall&&!j.isWall){var g,b,p=f.isWall?f:j;h.isWall=!1,p.isWall=!1;var v=s.wallNeumannNeighborhood(p);a=a.concat(v),c[c.length-1].next=(g={},Object(A.a)(g,h.index,!1),Object(A.a)(g,p.index,!1),g),c.push({prev:(b={},Object(A.a)(b,h.index,!0),Object(A.a)(b,p.index,!0),b),next:null})}a.splice(d,1)}c[c.length-1].next=x.cloneCellArray(s.cells),c[0].next[r.index]=!1,c[1].prev[r.index]=!0,n(c),i(c.length-1),l(x.cloneCellArray(s.cells))};var D=N,B=n(10),H=0,L=1,G=2,F=3,T=function(){function e(){Object(h.a)(this,e)}return Object(u.a)(e,null,[{key:"loopErasedRandomWalk",value:function(e,t,n){for(var i=[e],l=e;n.has(l);){var s=this.getRandomDirection(l,t),a=this.cellsInDirection(l,t,s),c=i.indexOf(a[1]);l=(i=-1!==c?i.slice(0,c+1):i.concat(a))[i.length-1]}return i}},{key:"cellsInDirection",value:function(e,t,n){return n===H?[t.cells[e.index-t.cols],t.cells[e.index-2*t.cols]]:n===L?[t.cells[e.index+1],t.cells[e.index+2]]:n===G?[t.cells[e.index+t.cols],t.cells[e.index+2*t.cols]]:n===F?[t.cells[e.index-1],t.cells[e.index-2]]:void 0}},{key:"getRandomDirection",value:function(e,t){var n=t.getRowAndCol(e),i=n.row,l=n.col,s=[];return i>1&&s.push(H),l<t.cols-2&&s.push(L),i<t.rows-2&&s.push(G),l>1&&s.push(F),s[Math.floor(Math.random()*s.length)]}},{key:"getInitialState",value:function(e){var t=[];return e.cells.forEach((function(n){var i=e.getRowAndCol(n),l=i.row,s=i.col;l%2===1&&s%2===1&&t.push(n)})),{notInMaze:new Set(t)}}}]),e}();T.generate=function(e,t,n,i,l){var s=new W(t,t,2*e+1,2*e+1),a=T.getInitialState(s).notInMaze,c=[{prev:x.cloneCellArray(s.cells),next:null}],r=s.cells[s.cols+1];s.cells[r.index].isWall=!1,a.delete(r);for(var o=function(){var e=Object(B.a)(a),t=e[Math.floor(Math.random()*e.length)],n=T.loopErasedRandomWalk(t,s,a),i={},l={};n.forEach((function(e){e.isWall&&(i[e.index]=!1,l[e.index]=!0)})),c[c.length-1].next=i,c.push({prev:l,next:null}),n.forEach((function(e){return a.delete(e)})),n.forEach((function(e){e.isWall=!1}))};a.size>0;)o();c[c.length-1].next=x.cloneCellArray(s.cells),c[0].next[r.index]=!1,c[1].prev[r.index]=!0,n(c),i(c.length-1),l(x.cloneCellArray(s.cells))};var V=T,K=function(e){var t=Object(i.useState)({current:k.RandomizedDepthFirstSearch}),n=Object(c.a)(t,2),l=n[0],s=n[1],a=Object(i.useState)("randomized depth first search"),r=Object(c.a)(a,2),h=r[0],u=r[1],x=Object(i.useState)(null),f=Object(c.a)(x,2),j=f[0],g=f[1],b=Object(i.useState)(10),p=Object(c.a)(b,2),v=p[0],O=p[1],y=Object(i.useState)(1),m=Object(c.a)(y,2),w=m[0],C=m[1],A=Object(i.useState)(546),W=Object(c.a)(A,2),z=W[0],R=W[1],M=Object(i.useState)(0),N=Object(c.a)(M,2),B=N[0],H=N[1],L=Object(i.useState)([]),G=Object(c.a)(L,2),F=G[0],T=G[1],K=Object(i.useState)(!1),U=Object(c.a)(K,2),J=U[0],q=U[1];return Object(i.useEffect)((function(){var e=function(e,t){var n=e+t/2;return n-=n%t}(550,2*v+1);R(e),l.current===k.RandomizedDepthFirstSearch?(P.generate(v,e,T,H,g),u("randomized depth first search")):l.current===k.RandomizedKruskalsAlgorithm?(E.generate(v,e,T,H,g),u("randomized kruskal\u2019s algorithm")):l.current===k.RandomizedPrimsAlgorithm?(D.generate(v,e,T,H,g),u("randomized prim\u2019s algorithm")):l.current===k.WilsonsAlgorithm&&(V.generate(v,e,T,H,g),u("wilson\u2019s algorithm"))}),[l,v]),Object(o.jsxs)("div",{id:"app",children:[Object(o.jsx)(S,{history:F,setSize:O,historyIndex:B,setHistoryIndex:H,speed:w,setSpeed:C,isPlaying:J,setIsPlaying:q,cells:j,setCells:g}),Object(o.jsxs)("div",{id:"center",children:[Object(o.jsx)("h1",{children:"daedalus"}),Object(o.jsx)("h2",{children:h}),Object(o.jsx)(d,{cells:j,canvasSize:z})]}),Object(o.jsx)(I,{setGenerator:s,isPlaying:J})]})};a.a.render(Object(o.jsx)(l.a.StrictMode,{children:Object(o.jsx)(K,{})}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.3d31ef23.chunk.js.map