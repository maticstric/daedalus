(this.webpackJsonpdaedalus=this.webpackJsonpdaedalus||[]).push([[0],[,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i=n(1),s=n.n(i),l=n(7),a=n.n(l),c=(n(12),n(2)),r=(n(13),n(14),{white:"#ffffff",black:"#000000",background:"#2c3035"}),o=n(0),d=function(e){var t=Object(i.useRef)();return Object(i.useEffect)((function(){var n=t.current,i=n.getContext("2d");i.canvas.width=e.canvasSize,i.canvas.height=e.canvasSize;!function(e,t){e?e.forEach((function(e){e.isWall?t.fillStyle=r.black:t.fillStyle=r.white,t.fillRect(e.x,e.y,e.width,e.height),t.stroke()})):(t.fillStyle="black",t.fillRect(0,0,n.width,n.height))}(e.cells,i)}),[e.cells,e.canvasSize]),Object(o.jsx)("div",{id:"canvas-wrapper",children:Object(o.jsx)("canvas",{id:"canvas",ref:t,width:e.canvasSize,height:e.canvasSize})})},h=(n(16),n(3)),u=n(4),j=function(){function e(t,n,i,s,l,a){Object(h.a)(this,e),this.x=t,this.y=n,this.index=i,this.width=s,this.height=l,this.isWall=a}return Object(u.a)(e,[{key:"clone",value:function(){return new e(this.x,this.y,this.index,this.width,this.height,this.isWall)}}],[{key:"cloneCellArray",value:function(e){var t=[];return e.forEach((function(e){var n=e.clone();t.push(n)})),t}}]),e}(),x=(n(17),n.p+"static/media/first.c3e0cf7d.svg"),f=n.p+"static/media/previous.4ccf2fd0.svg",b=n.p+"static/media/next.fe3f3ecb.svg",g=n.p+"static/media/last.f00f4291.svg",p=n.p+"static/media/play.54e558df.svg",v=n.p+"static/media/pause.d4c80d88.svg",O=function(e){var t=Object(i.useState)(!0),n=Object(c.a)(t,2),s=n[0],l=n[1],a=Object(i.useState)(!1),r=Object(c.a)(a,2),d=r[0],h=r[1],u=Object(i.useState)(!1),O=Object(c.a)(u,2),y=O[0],m=O[1],w=Object(i.useState)(null),S=Object(c.a)(w,2),k=S[0],C=S[1],I=Object(i.useState)(p),z=Object(c.a)(I,2),A=z[0],W=z[1],P=Object(i.useRef)(e.speed);P.current=e.speed,Object(i.useEffect)((function(){0===e.historyIndex?(l(!0),h(!1)):e.historyIndex===e.history.length-1?(l(!1),h(!0)):(l(!1),h(!1)),e.historyIndex===e.history.length-1?m(!0):m(!1),e.isPlaying&&(l(!0),h(!0))}),[e.isPlaying,e.historyIndex,e.history.length]),Object(i.useEffect)((function(){e.isPlaying?W(v):W(p)}),[e.isPlaying]);var R=function(t){var n=Object.keys(t),i=Object.values(t),s=j.cloneCellArray(e.cells);n.forEach((function(e,t){s[e].isWall=i[t]})),e.setCells(s)},N=function t(n,i){var s=1/P.current*1e3,l=e.history[n].next,a=Object.keys(l),c=Object.values(l),r=j.cloneCellArray(i);a.forEach((function(e,t){r[e].isWall=c[t]})),n+=1,e.setHistoryIndex(n),e.setCells(r),n<e.history.length-1?C(setTimeout((function(){t(n,r)}),s)):e.setIsPlaying(!1)};return Object(o.jsxs)("div",{id:"playback-wrapper",children:[Object(o.jsx)("input",{type:"image",alt:"first",disabled:s,onClick:function(){var t=e.history[0].prev;e.setHistoryIndex(0),e.setCells(j.cloneCellArray(t))},src:x}),Object(o.jsx)("input",{type:"image",alt:"previous",disabled:s,onClick:function(){var t=e.historyIndex;e.setHistoryIndex(t-1);var n=e.history[e.historyIndex].prev;R(n)},src:f}),Object(o.jsx)("input",{type:"image",alt:"play-pause",disabled:y,onClick:function(){e.isPlaying?(e.setIsPlaying(!1),clearTimeout(k)):(e.setIsPlaying(!0),N(e.historyIndex,e.cells))},src:A}),Object(o.jsx)("input",{type:"image",alt:"next",disabled:d,onClick:function(){var t=e.historyIndex;e.setHistoryIndex(t+1);var n=e.history[e.historyIndex].next;R(n)},src:b}),Object(o.jsx)("input",{type:"image",alt:"last",disabled:d,onClick:function(){var t=e.history[e.history.length-1].next;e.setHistoryIndex(e.history.length-1),e.setCells(j.cloneCellArray(t))},src:g})]})},y=(n(18),n(19),function(e){return Object(o.jsxs)("div",{id:"range-slider-wrapper",children:[Object(o.jsx)("div",{children:e.min}),Object(o.jsx)("input",{type:"range",disabled:e.disabled,min:e.min,max:e.max,step:e.step,defaultValue:e.defaultValue,onChange:e.onChange,onMouseUp:e.onMouseUp}),Object(o.jsx)("div",{children:e.max})]})}),m=function(e){var t=Object(i.useState)("size: 10"),n=Object(c.a)(t,2),s=n[0],l=n[1];return Object(o.jsxs)("div",{id:"size-slider-wrapper",children:[Object(o.jsx)("p",{children:s}),Object(o.jsx)(y,{disabled:e.isPlaying,type:"range",min:"2",max:"50",step:"1",defaultValue:"10",onChange:function(e){l("size: "+e.target.value)},onMouseUp:function(t){e.setSize(t.target.value)}})]})},w=(n(20),function(e){var t=Object(i.useState)("speed: 0"),n=Object(c.a)(t,2),s=n[0],l=n[1];return Object(o.jsxs)("div",{id:"speed-slider-wrapper",children:[Object(o.jsx)("p",{children:s}),Object(o.jsx)(y,{disabled:e.isPlaying,type:"range",min:"0",max:"1",step:"0.01",defaultValue:"0",onChange:function(t){l("speed: "+t.target.value),e.setSpeed(Math.pow(1e3,t.target.value))}})]})}),S=function(e){return Object(o.jsxs)("div",{id:"controls-wrapper",children:[Object(o.jsx)("h2",{children:"controls"}),Object(o.jsx)(m,{setSize:e.setSize,isPlaying:e.isPlaying}),Object(o.jsx)(w,{setSpeed:e.setSpeed}),Object(o.jsx)(O,{history:e.history,speed:e.speed,historyIndex:e.historyIndex,setHistoryIndex:e.setHistoryIndex,isPlaying:e.isPlaying,setIsPlaying:e.setIsPlaying,cells:e.cells,setCells:e.setCells}),Object(o.jsx)("div",{}),Object(o.jsxs)("blockquote",{children:[Object(o.jsxs)("p",{children:[Object(o.jsx)("span",{children:"Such was the work, so intricate the place,"}),Object(o.jsx)("span",{children:"That scarce the workman all its turns cou\u2019d trace;"}),Object(o.jsx)("span",{children:"And Daedalus was puzzled how to find"}),Object(o.jsx)("span",{children:"The secret ways of what himself design\u2019d."})]}),Object(o.jsxs)("p",{children:["\u2014 Ovid, ",Object(o.jsx)("cite",{children:"Metamorphoses"})]})]})]})},k=(n(21),{RandomizedDepthFirstSearch:0,RandomizedKruskalsAlgorithm:1,RandomizedPrimsAlgorithm:2}),C=n.p+"static/media/github.1a78f568.svg",I=function(e){return Object(o.jsxs)("div",{id:"selector-wrapper",children:[Object(o.jsx)("h2",{children:"maze generation algorithms"}),Object(o.jsx)("button",{onClick:function(){e.setGenerator({current:k.RandomizedDepthFirstSearch})},disabled:e.isPlaying,children:"randomized depth first search"}),Object(o.jsx)("button",{onClick:function(){e.setGenerator({current:k.RandomizedKruskalsAlgorithm})},disabled:e.isPlaying,children:"randomized kruskal\u2019s algorithm"}),Object(o.jsx)("button",{onClick:function(){e.setGenerator({current:k.RandomizedPrimsAlgorithm})},disabled:e.isPlaying,children:"randomized prim\u2019s algorithm"}),Object(o.jsx)("a",{href:"https://github.com/maticstric/daedalus",target:"_blank",rel:"noreferrer",children:Object(o.jsx)("img",{src:C,alt:"github"})})]})},z=n(5),A=function(){function e(t,n,i,s){var l=this;Object(h.a)(this,e),this.initCells=function(){for(var e=[],t=0;t<l.rows;t++)for(var n=0;n<l.cols;n++){var i=l.width/l.cols,s=l.height/l.rows,a=i*n,c=s*t,r=t*l.cols+n;e.push(new j(a,c,r,i,s,!0))}return e},this.secondNeumannNeighborhood=function(e){var t=[],n=l.getRowAndCol(e),i=n.row,s=n.col,a=l.cells[l.index(i-2,s)],c=l.cells[l.index(i,s+2)],r=l.cells[l.index(i+2,s)],o=l.cells[l.index(i,s-2)];return a&&t.push(a),c&&t.push(c),r&&t.push(r),o&&t.push(o),t},this.wallSecondNeumannNeighbors=function(e){for(var t=l.secondNeumannNeighborhood(e),n=[],i=0;i<t.length;i++){var s=t[i];s.isWall&&n.push(s)}return n},this.neumannNeighborhood=function(e){var t,n,i,s,a=[],c=l.getRowAndCol(e),r=c.row,o=c.col;return r-1>0&&(t=l.cells[l.index(r-1,o)]),o+1<l.cols-1&&(n=l.cells[l.index(r,o+1)]),r+1<l.rows-1&&(i=l.cells[l.index(r+1,o)]),o-1>0&&(s=l.cells[l.index(r,o-1)]),t&&a.push(t),n&&a.push(n),i&&a.push(i),s&&a.push(s),a},this.wallNeumannNeighborhood=function(e){for(var t=l.neumannNeighborhood(e),n=[],i=0;i<t.length;i++){var s=t[i];s.isWall&&n.push(s)}return n},this.cellBetween=function(e,t){return e.index-t.index===2?l.cells[t.index+1]:t.index-e.index===2?l.cells[e.index+1]:e.index-t.index===2*l.cols?l.cells[t.index+l.cols]:t.index-e.index===2*l.cols?l.cells[e.index+l.cols]:void 0},this.width=t,this.height=n,this.rows=i,this.cols=s,this.cells=this.initCells()}return Object(u.a)(e,[{key:"getCellsDividedByWall",value:function(e){var t,n,i=this.getRowAndCol(e),s=i.row,l=i.col;return s%2===0?(t=this.cells[e.index-this.cols],n=this.cells[e.index+this.cols]):l%2===0&&(t=this.cells[e.index-1],n=this.cells[e.index+1]),{cellA:t,cellB:n}}},{key:"index",value:function(e,t){return e<0||t<0||e>this.rows-1||t>this.cols-1?-1:t+e*this.cols}},{key:"getRowAndCol",value:function(e){return{row:Math.floor(e.index/this.cols),col:e.index%this.cols}}}]),e}(),W=function(){function e(){Object(h.a)(this,e)}return Object(u.a)(e,null,[{key:"getInitialState",value:function(){return{stack:[]}}}]),e}();W.generate=function(e,t,n,i,s){var l=new A(t,t,2*e+1,2*e+1),a=W.getInitialState().stack,c=[{prev:j.cloneCellArray(l.cells),next:null}],r=l.cells[l.cols+1];for(l.cells[r.index].isWall=!1,a.push(r);0!==a.length;){var o=a.pop(),d=l.wallSecondNeumannNeighbors(o);if(0!==d.length){var h,u;a.push(o);var x=d[Math.floor(Math.random()*d.length)],f=l.cellBetween(o,x);l.cells[f.index].isWall=!1,l.cells[x.index].isWall=!1,a.push(x),c[c.length-1].next=(h={},Object(z.a)(h,f.index,!1),Object(z.a)(h,x.index,!1),h),c.push({prev:(u={},Object(z.a)(u,f.index,!0),Object(z.a)(u,x.index,!0),u),next:null})}}c[c.length-1].next=j.cloneCellArray(l.cells),c[0].next[r.index]=!1,c[1].prev[r.index]=!0,n(c),i(c.length-1),s(j.cloneCellArray(l.cells))};var P=W,R=function(){function e(t){Object(h.a)(this,e),this.parents={},this.ranks={},this.numSets=t.length;for(var n=0;n<t.length;n++){var i=t[n];this.parents[i]=i,this.ranks[i]=0}}return Object(u.a)(e,[{key:"union",value:function(e,t){this.link(this.findSet(e),this.findSet(t)),this.numSets-=1}},{key:"link",value:function(e,t){e!==t&&(this.ranks[e]>this.ranks[t]?this.parents[t]=e:(this.parents[e]=t,this.ranks[e]===this.ranks[t]&&(this.ranks[t]+=1)))}},{key:"findSet",value:function(e){return this.parents[e]!==e&&(this.parents[e]=this.findSet(this.parents[e])),this.parents[e]}}]),e}(),N=function(){function e(){Object(h.a)(this,e)}return Object(u.a)(e,null,[{key:"getInitialState",value:function(e){return{wallList:this.getInitialWallList(e),cellSets:this.getInitialCellSets(e)}}},{key:"getInitialWallList",value:function(e){var t=[];return e.cells.forEach((function(n){var i=e.getRowAndCol(n),s=i.row,l=i.col;0!==s&&s!==e.rows-1&&0!==l&&l!==e.cols-1&&(s%2===0&&l%2===0||(s%2===0||l%2===0)&&t.push(n))})),t}},{key:"getInitialCellSets",value:function(e){var t=[];return e.cells.forEach((function(n){var i=e.getRowAndCol(n),s=i.row,l=i.col;s%2===1&&l%2===1&&t.push(n.index)})),new R(t)}}]),e}();N.generate=function(e,t,n,i,s){for(var l=new A(t,t,2*e+1,2*e+1),a=N.getInitialState(l),c=a.wallList,r=a.cellSets,o=[{prev:j.cloneCellArray(l.cells),next:null}];r.numSets>1;){var d=Math.floor(Math.random()*c.length),h=c[d],u=l.getCellsDividedByWall(h),x=u.cellA,f=u.cellB;if(r.findSet(x.index)!==r.findSet(f.index)){var b={},g={};l.cells[x.index].isWall&&(l.cells[x.index].isWall=!1,b[x.index]=!1,g[x.index]=!0),l.cells[f.index].isWall&&(l.cells[f.index].isWall=!1,b[f.index]=!1,g[f.index]=!0),l.cells[h.index].isWall&&(l.cells[h.index].isWall=!1,b[h.index]=!1,g[h.index]=!0),c.splice(d,1),r.union(x.index,f.index),o[o.length-1].next=b,o.push({prev:g,next:null})}}o[o.length-1].next=j.cloneCellArray(l.cells),n(o),i(o.length-1),s(j.cloneCellArray(l.cells))};var M=N,E=function(){function e(){Object(h.a)(this,e)}return Object(u.a)(e,null,[{key:"getInitialState",value:function(){return{wallList:[]}}}]),e}();E.generate=function(e,t,n,i,s){var l=new A(t,t,2*e+1,2*e+1),a=E.getInitialState().wallList,c=[{prev:j.cloneCellArray(l.cells),next:null}],r=l.cells[l.cols+1];l.cells[r.index].isWall=!1;var o=l.wallNeumannNeighborhood(r);for(a=a.concat(o);a.length>0;){var d=Math.floor(Math.random()*a.length),h=a[d],u=l.getCellsDividedByWall(h),x=u.cellA,f=u.cellB;if(!x.isWall&&f.isWall||x.isWall&&!f.isWall){var b,g,p=x.isWall?x:f;h.isWall=!1,p.isWall=!1;var v=l.wallNeumannNeighborhood(p);a=a.concat(v),c[c.length-1].next=(b={},Object(z.a)(b,h.index,!1),Object(z.a)(b,p.index,!1),b),c.push({prev:(g={},Object(z.a)(g,h.index,!0),Object(z.a)(g,p.index,!0),g),next:null})}a.splice(d,1)}c[c.length-1].next=j.cloneCellArray(l.cells),c[0].next[r.index]=!1,c[1].prev[r.index]=!0,n(c),i(c.length-1),s(j.cloneCellArray(l.cells))};var B=E,D=function(e){var t=Object(i.useState)({current:k.RandomizedDepthFirstSearch}),n=Object(c.a)(t,2),s=n[0],l=n[1],a=Object(i.useState)("randomized depth first search"),r=Object(c.a)(a,2),h=r[0],u=r[1],j=Object(i.useState)(null),x=Object(c.a)(j,2),f=x[0],b=x[1],g=Object(i.useState)(10),p=Object(c.a)(g,2),v=p[0],O=p[1],y=Object(i.useState)(1),m=Object(c.a)(y,2),w=m[0],C=m[1],z=Object(i.useState)(546),A=Object(c.a)(z,2),W=A[0],R=A[1],N=Object(i.useState)(0),E=Object(c.a)(N,2),D=E[0],H=E[1],L=Object(i.useState)([]),F=Object(c.a)(L,2),G=F[0],T=F[1],V=Object(i.useState)(!1),K=Object(c.a)(V,2),U=K[0],J=K[1];return Object(i.useEffect)((function(){var e=function(e,t){var n=e+t/2;return n-=n%t}(550,2*v+1);R(e),s.current===k.RandomizedDepthFirstSearch?(P.generate(v,e,T,H,b),u("randomized depth first search")):s.current===k.RandomizedKruskalsAlgorithm?(M.generate(v,e,T,H,b),u("randomized kruskal\u2019s algorithm")):s.current===k.RandomizedPrimsAlgorithm&&(B.generate(v,e,T,H,b),u("randomized prim\u2019s algorithm"))}),[s,v]),Object(o.jsxs)("div",{id:"app",children:[Object(o.jsx)(S,{history:G,setSize:O,historyIndex:D,setHistoryIndex:H,speed:w,setSpeed:C,isPlaying:U,setIsPlaying:J,cells:f,setCells:b}),Object(o.jsxs)("div",{id:"center",children:[Object(o.jsx)("h1",{children:"daedalus"}),Object(o.jsx)("h2",{children:h}),Object(o.jsx)(d,{cells:f,canvasSize:W})]}),Object(o.jsx)(I,{setGenerator:l,isPlaying:U})]})};a.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(D,{})}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.42f648c0.chunk.js.map